<div class="full-width-flex-container">
  <div class="shopping-list-container" (click)="onClickOutsideElementMenu($event)">

    <div *ngIf="moreMenuOpened" class="more-menu-container">
      <button [ngClass]="deletedProductsAvailable ? '' : 'invalid'"  class="btn-default" (click)="onReviveLastProduct()">Revive Product</button>
      <button [ngClass]="shoppingListElements?.length !== 0 ? '' : 'invalid'"  class="btn-default" (click)="onClearList()">Clear list</button>
      <button [ngClass]="boughtElements ? '' : 'invalid'"  class="btn-default" (click)="onClearBoughtElements()">Clear Bought Elements</button>
      <button [ngClass]="boughtElements ? '' : 'invalid'" class="btn-default" (click)="onAddBoughtElementsToPantry()">Add Bought Elements to Pantry</button>
    </div>

    <div class="page-menu">
      <div class="header-container">
        <h1 class="header" >Shopping List</h1>
        <button class="btn-more" (click)="onMoreClick()">
          <img [src]=" moreMenuOpened ? './../../assets/cancel2-svgrepo-com.svg' : './../../assets/more-vertical-svgrepo-com.svg'">
        </button>
      </div>

      <div
      class="inputs-container"
      [formGroup]="form"
      >

        <input
          type="text"
          class="ipt-default ipt-name"
          placeholder="Name"
          formControlName="productName"
        >
        <input
          type="number"
          class="ipt-default ipt-qty"
          placeholder="Qty"
          formControlName="productQuantity"
        >
        <input
          type="text"
          class="ipt-default ipt-unit"
          placeholder="Unit"
          formControlName="productUnit"
        >

        <button [ngClass]="form.valid ? '' : 'invalid'" (click)="onAddClick()" *ngIf="!editMode" class="btn-default btn-form">Add</button>
        <button [ngClass]="form.valid ? '' : 'invalid'" (click)="onSaveClick()" *ngIf="editMode" class="btn-default btn-form">Save</button>

      </div>
    </div>

    <div *ngIf="loading" class="spinner-container">
      <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>
    </div>


    <div class="content">
      <div class="empty-list-message" *ngIf="(shoppingListElements === undefined || shoppingListElements.length === 0) && !loading">
        <p>Your Shopping List is empty</p>
      </div>

      <div class="shopping-list-elements-container">
        <div *ngIf="loading" class="loading-container">

        </div>
        <app-shopping-list-element
        *ngFor="let element of shoppingListElements; let i = index"
        [product]="element"
        [productIndex]="i"
        ></app-shopping-list-element>
      </div>
    </div>





    <div *ngIf="modalOpened" class="clear-list-modal" (click)="onModalClick()">
      <h3 class="header" >Are you sure that you want to clear the list ?</h3>
      <button (click)="onYesClick()" class="btn-default">Yes</button>
      <button class="btn-default">Cancel</button>
    </div>

  </div>

</div>


